<?phpclass Cms_Model_Mapper_Block{    protected $_dbTable;    public function setDbTable($dbTable)    {        if (is_string($dbTable))         {            $dbTable = new $dbTable();        }        if (!$dbTable instanceof Zend_Db_Table_Abstract)         {            throw new Exception('Invalid table data gateway provided');        }        $this->_dbTable = $dbTable;		        return $this;    }    public function getDbTable()    {        if (null === $this->_dbTable) {            $this->setDbTable('Cms_Model_DbTable_Blocks');        }        return $this->_dbTable;    }	public function save(Cms_Model_Block $block)	{		$this->getDbTable()->save($block);	}    public function load($id, Cms_Model_Block $block)    {        $result = $this->getDbTable()->find($id);        if (0 == count($result))         {            return false;        }        $row = $result->current();        $block->setId($row->id)			->setName($row->name);		return true;    }    public function fetchAll()    {        $resultSet = $this->getDbTable()->fetchAll();        $entries   = array();        foreach ($resultSet as $row)         {            $entry = new Cms_Model_Block();            $entry->setId($row->id)                  ->setName($row->name);            $entries[] = $entry;        }        return $entries;    }	public function fetchAllOnPage( $page )	{		$resultSet = $this->getDbTable()->fetchAllOnPage( $page );		$entries   = array();		foreach ($resultSet as $row) 		{			$entry = new Cms_Model_Block();			$entry->setId($row->id)				->setInstanceId($row->instanceId)				->setName($row->name)				->setParams( unserialize($row->params) )				->setPlaceholder( $row->placeholder )				->setPriority( $row->priority );			$entries[] = $entry;		}		return $entries;	}	}